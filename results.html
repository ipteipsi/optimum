<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="http://www.facebook.com/2008/fbml">

    <head>
        <meta charset="utf-8">
        <title>Life Inspiration - your results</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">

        <!-- Le styles -->
        <link href="assets/css/bootstrap.css" rel="stylesheet">
        <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
        <link href="assets/css/docs.css" rel="stylesheet">
        <link href="assets/js/google-code-prettify/prettify.css" rel="stylesheet">

        <!--css para a plot-->
        <link class="include" rel="stylesheet" type="text/css" href="assets/css/jquery.jqplot.min.css" />
        <link rel="stylesheet" type="text/css" href="assets/css/examples.min.css" />
        <link type="text/css" rel="stylesheet" href="assets/css/syntaxhighlighter/styles/shCoreDefault.min.css" />
        <link type="text/css" rel="stylesheet" href="assets/css/syntaxhighlighter/styles/shThemejqPlot.min.css" />

        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
          <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <!-- Le fav and touch icons -->
        <link rel="shortcut icon" href="assets/ico/favicon.ico">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/logo_inspiration_114.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/logo_inspiration_72.png">
        <link rel="apple-touch-icon-precomposed" href="assets/ico/logo_inspiration_57.png">

        <script src="assets/js/cookies.js"></script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

        <!-- Facebook Meta Tags -->
        <meta property="og:title" content="Life Inspiration"/>
        <meta property="og:type" content="company"/>
        <meta property="og:url" content="http://www.cloudglare.com/"/>
        <meta property="og:image" content="http://www.cloudglare.com/assets/img/Life-Inspiration_03ss_03.png"/>
        <meta property="og:site_name" content="LifeInspiration"/>
        <meta property="fb:admins" content="100001620293641"/>
        <meta property="og:description"
              content="Life Inspiration helps our clients solving complex engineering problems with smart processing time."/>

        <!-- Google + atributos que iram aparecer ao fazer +1/Like -->
        <!-- Update your html tag to include the itemscope and itemtype attributes -->
    <html itemscope itemtype="http://schema.org/Organization">

        <!-- Add the following three tags inside head -->
        <meta itemprop="name" content="Life Inspiration">
        <meta itemprop="description" content="Life Inspiration helps our clients solving complex engineering problems with
              smart processing time">
        <meta itemprop="image" content="http://cloudglare.com/assets/img/logo_inspiration.png">

        <script class="code" type="text/javascript">
            $(document).ready(function(){
                //carrega pagina com modals e funcoes por defeito
                $("#modals").load("views/modals.html");
                 
                //Verifica se tem login ou não para mostrar botao correspondnt
                if(readCookie('nome')!=null){
                    $('#LiRegist').html("");
                    $('#LiRegist').append("<a href='#Logoutuser' id='LogoutUser' ><i style='margin-top: 4px;'   class='icon-off'></i> Logout</a>");
                    $('.logo_image').css("margin-right", "120px");
                    $('#textLogin').html("");
                    var nome = readCookie('nome').split(" ");
                    $('#textLogin').append("Olá "+nome[0]);
                    $('#LiLogin a').attr("href","myarea.html");
                    $('#loginButton').css("background-image", "url('assets/img/myarea_1.png')");
                }
   
            });
        </script>
    </head>

    <body data-spy="scroll" data-target=".subnav" data-offset="50">
        <a id="loginButton" class="loginButton" href="myarea.html">&nbsp;</a>
        <a id="serverStatus" class="serverStatus" href="#">
            <img class="StatusImage" style="margin-top: 10px" src="assets/img/down.png">   
        </a>

        <!-- Navbar
          ================================================== -->
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a href="./index.html"><img width="199px" style="float:left; margin:5px; margin-left:0px;margin-right:170px;" class="logo_image" src="assets/img/logo_inspiration.png"></a>
                    <div class="nav-collapse">
                        <ul class="nav nav-pills" style="margin-top:15px;">
                            <li >
                                <a href="./index.html"><i style="margin-top: 3px;" class="icon-home"></i> Home</a>
                            </li>
                            <li>
                                <a href="./how_works.html"><i style="margin-top: 4px;" class="icon-star"></i> How works</a>
                            </li>
                            <li class="active">
                                <a href="./implementation.html"><i style="margin-top: 4px;" class="icon-cog icon-white"></i> Implementation</a>
                            </li>
                            <li>
                                <a href="./feedback.html"><i style="margin-top: 4px;" class="icon-tags"></i> Feedback</a>
                            </li>
                            <li>
                                <a href="./contacts.html"><i style="margin-top: 4px;" class="icon-eye-open"></i> Contacts</a>
                            </li>

                            <li id="LiLogin">
                                <a href="#login"  id="menu_buttons_Login"><i style="margin-top: 4px;" class="icon-user"></i> <span id="textLogin">Login</span></a>
                            </li>
                            <li id="LiRegist">
                                <a href="#regist" id="menu_buttons_regist" ><i style="margin-top: 4px;"   class="icon-plus"></i> Regist</a>
                            </li>

                        </ul>
                        <span class="loaderAjax2"></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div id="fb-root"></div>
            <!-- Masthead
           ================================================== -->
            <header class="jumbotron masthead" style="margin-bottom: 20px;">
                <div class="row" style="margin-top:60px;">
                    <div class="span1 offset1" >
                        <figure style="margin-left:200px;margin-top:25px;float:left;text-align: center;"> 
                            <img style="width: 128px;height: 128px;" src="assets/img/1336576416_success.png" />
                        </figure>
                    </div>
                    <div class="span6" style="margin-left:180px;margin-top:50px;">
                        <div class="inner">
                            <h1>Results</h1>
                        </div>
                    </div>
                </div>

            </header>

            <hr class="soften">

            <div class="marketing">
                <div class="row">
                    <div class="AllResults">
                        <div style="margin-left: 0px;margin-top:30px" class="span12">
                            <img class="bs-icon" src="assets/img/glyphicons/glyphicons_079_podium.png">
                            <h2 id="titleSecound">Getting data solution<span class="loaderAjax2"><img style="margin-left:10px;margin-top:0px;" src="http://www.greatdiscountz.com/imagens/159.gif"></span></h2>
                            <div class="span12" id="resultOfInfo">

                            </div>
                        </div>
                        <div style="margin-top:30px;" class="span6" >
                            <img class="bs-icon" style="width: 30px;height: 28px;margin-top:12px;" src="assets/img/pointicon.png">
                            <h2 style="padding-top: 7px;"><span class="titleRequest">Best and Avarage</span></h2>
                            <div  id="chart_div"></div>
                        </div>
                        <div style="margin-top:30px;" class="span6" >
                            <img class="bs-icon" style="width: 30px;height: 28px;margin-top:12px;" src="assets/img/pointicon.png">
                            <h2  style="padding-top: 7px;"><span class="titleRequest">Num of Best and Deviation</span></h2>
                            <div  id="chart_div_numbest"></div>
                        </div>

                        <div class="span12" >
                            <img class="bs-icon" style="width: 30px;height: 28px;margin-top:12px;" src="assets/img/pointicon.png">
                            <h2 style="padding-top: 7px;"><span class="titleRequestLastResult">String</span></h2>
                        </div>
                        <div id="FinalResult" class="span5 offset4" style="height: 450px; margin-top: 20px;">

                            <div id="grapharea">

                                <div id="p50" class="graphlabel">Medium</div>
                                <div id="p100" class="graphlabel">MAX</div>

                                <div id="graphcontainer">
                                    <img src="assets/img/graphbackground.png" id="graphbackground" width="262" height="300" alt="" />
                                    <img src="assets/img/graphbar.png" id="graphbar" width="262" height="300" alt="" />
                                    <img src="assets/img/graphforeground.png" id="graphforeground" width="262" height="300" alt="" />
                                </div>
                            </div>
                            <div style="width: 100%" id="closeResultFinal2" name="closeResultFinal2">corre</div>
                        </div>

                        <div class="span2 offset6" style="margin-bottom: 20px;" id="ResultEndString">

                        </div>
                    </div>
                    <div class="span12">
                        <div id="id_btexecute" class="span1">
                            <a style="margin-left:-40px;" class='btn btn-large btn-primary disabled bt_execute'>Working...</a>
                            <!--/<a class="btn btn-large btn-primary bt_execute">New</a>-->
                        </div>
                    </div>
                </div><!--/row-->

            </div><!-- /.marketing -->
            <!-- div que recebe o load do modals.html --> 
            <div id="modals">
            </div>


        </div><!-- /container -->


        <!-- Modal que mostra o resultado final -->
        <form id="FormLogin" name="FormLogin" method="post">
            <div  class="modal hide fade" id="myModalLogin">             
                <div class="modal-header">
                    <h3>Best value</h3>
                </div>
                <div class="modal-body">
                    It's necessary execute your solution.
                </div>
                <div class="modal-footer">
                    <img  id="closeResultFinal" name="closeResultFinal" style="margin-left: 10px; margin-top: -5px;" src="assets/img/close-btt_02.png" />
                </div>  
            </div>
        </form>

        <!-- Footer
         ================================================== -->
        <footer class="footer" style="background-color: #252525; ">
            <div class="container">
                <div style="padding-left: 0%;" class="row">
                    <div class="span5">
                        <h3>LifeInspiration</h3>
                        <p style="padding-left: 10px; color: white;">

                            Life Inspiration help our clients to resolve hard engineer problems with 
                            big compute processing.
                        </p>
                    </div>
                    <div class="span2 offset4">
                        <h3>Follow us</h3>

                        <!-- Coloque esta etiqueta onde pretende que o botão de +1 seja apresentado -->
                        <div class="googleMais"><g:plusone annotation="none" style="margin-left: 10px;"></g:plusone></div>
                        <!-- Facebook like btt -->
                        <div class="fb-like" data-href="http://www.cloudglare.com" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false" data-font="trebuchet ms"></div>

                    </div>
                </div> 
                <div style="margin-bottom: 5px;margin-top: 15px;" class="row">
                    <div class="span12">
                        <h3>Teams</h3>
                    </div>
                </div>

                <div style="padding-left: 0%;" class="row">
                    <div class="span3">
                        <img style="margin-right:5px;" src="assets/img/pw.png">Optimum Computing
                    </div>
                    <div class="span3">
                        <img style="margin-right:5px;" src="assets/img/pw.png">Inovative Mind
                    </div>
                    <div class="span3">
                        <img style="margin-right:5px;" src="assets/img/pw.png">Genetic Lab
                    </div>
                    <div class="span3">
                        <img style="margin-right:5px;" src="assets/img/pw.png">Power Computing
                    </div>
                </div>

                <div style="padding-left: 0%; margin-bottom: -25px;margin-top: 25px;" class="row">			
                    <div class="span3">
                        <p style="font-size: 11px;">© Life Inspiration - 2012 All Rights Reserved.</p>
                    </div>
                    <div style="text-align: right;" class="span3 offset5">
                        <p style="font-size: 11px;">IPT - Projecto de Sistemas de Informação</p>
                    </div>
                </div>
            </div>          
        </footer>


        <!-- Le javascript
        ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>

        <script src="assets/js/google-code-prettify/prettify.js"></script>
        <script src="assets/js/bootstrap-transition.js"></script>
        <script src="assets/js/bootstrap-alert.js"></script>
        <script src="assets/js/bootstrap-modal.js"></script>
        <script src="assets/js/bootstrap-dropdown.js"></script>
        <script src="assets/js/bootstrap-scrollspy.js"></script>
        <script src="assets/js/bootstrap-tab.js"></script>
        <script src="assets/js/bootstrap-tooltip.js"></script>
        <script src="assets/js/bootstrap-popover.js"></script>
        <script src="assets/js/bootstrap-button.js"></script>
        <script src="assets/js/bootstrap-collapse.js"></script>
        <script src="assets/js/bootstrap-carousel.js"></script>
        <script src="assets/js/bootstrap-typeahead.js"></script>
        <script src="assets/js/application.js"></script>
        <script src="assets/js/functions.js"></script>
        <script src="http://cloudglare.com:90/socket.io/socket.io.js"></script>
        <script type="text/javascript" src="http://www.google.com/jsapi"></script>
        <script src="assets/js/jqueryvalidate.js"></script>

        <script class="code" type="text/javascript">
            //Load google Charts
            google.load('visualization', '1', {packages: ['corechart']});
            
            //criação de ligação node JS
            var socket = io.connect('cloudglare.com',{port:90});
            
            $(document).ready(function(){
                //call node status
                statusNodeJS();   
                
                //criação do data necessário para carregar os resultados
                var dataInfoProblem = {idClient: readCookie('idClient'),idProblem: readCookie('id_problem') }
                //Emit que permite devolver info do problema a resolver
                socket.emit("getProblemInfo", dataInfoProblem);

                //First Graph
                var teste = new Array();
                var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
                var itera = 0;
                var data = new google.visualization.DataTable();
                var showitera = 0;
                var totalitera = 0;
                var options = {
                    title: 'Params',      
                    width: 630,
                    height: 340,
                    animation:{
                        duration: 1000,
                        easing: 'out'
                    }
               
                };
                data.addColumn('string','Iter');
                data.addColumn('number','Avarage');
                data.addColumn('number','Best');
                
                data.addRows([["1",0,0]]);
                chart.draw(data, options); 
                
                //SecoundGraph
                var testeNumBest = new Array();
                var chartNumBest = new google.visualization.LineChart(document.getElementById('chart_div_numbest'));
                var iteraNumBest = 0;
                var dataNumBest = new google.visualization.DataTable();
                var showiteraNumBest  = 0;
                var totaliteraNumBest  = 0;
                var optionsNumBest  = {
                    title: 'NumBest',      
                    width: 630,
                    height: 340,
                    animation:{
                        duration: 1000,
                        easing: 'out'
                    }
               
                };
                dataNumBest.addColumn('string','Iter');
                dataNumBest.addColumn('number','Deviation');
                dataNumBest.addColumn('number','Num of Best');
                dataNumBest.addRows([["1",0,0]]);
                chartNumBest.draw(dataNumBest, optionsNumBest); 
                
                /************************************************* *
                 * Eventos definidos para ligação de node js       *
                 ************************************************* */         
                
                // Evento que recebe a info do problema a resolver      
                socket.on('getProblemInfoResult', function (dadosInfo) {
                    $('#resultOfInfo').html("");
                    $("#resultOfInfo").hide().append("").fadeIn('slow');
                    $("#resultOfInfo").append("<p>ID Problem: " + dadosInfo[0].idProblem +"</p><p>Algorithm: " + dadosInfo[0].algorithm +"</p><p>Selection: " + dadosInfo[0].selection +"</p><p>Mutation: " + dadosInfo[0].mutation +"</p><p>Recombination: " + dadosInfo[0].recombination +"</p><p>Replacement: " + dadosInfo[0].replacement +"</p><p>Date/Hour: " + dadosInfo[0].time +"</p>").fadeIn('slow');      
                });
                
                
                // Evento que mostra em tempo real os dados vindos da powercomputing
                socket.on('run', function (dados) {
                    if(readCookie('id_problem')==dados[0].idProblem){
                        data.addRows([[(dados[0].itera+1)+"",dados[0].globalAvarage,dados[0].globalBest]]);
                        dataNumBest.addRows([[(dados[0].itera+1)+"",dados[0].globalDeviation,dados[0].globalNumBest]]);
                        chart.draw(data,options);
                        chartNumBest.draw(dataNumBest, optionsNumBest); 
                    }else{
                      
                    } 
                });
                
               
                // Evento que mostra a string final do powercomputing
                socket.on('end', function (dadosEND) {
                    if(readCookie('id_problem')==dadosEND.idProblem){
                        //Fechar Modal que mostra o resultado final            
                        $('#myModalLogin').modal('show');
                        $('.modal-body').html("");
                        $('.modal-body').append("<p>Max Best: "+dadosEND.dados[0].max_best+"</p><p>Atribute: "+dadosEND.dados[0].attribute +" </p>");                        
                        $('#titleSecound').html("");
                        $("#titleSecound").hide().append("").fadeIn('slow');
                        $("#titleSecound").append("Final results").fadeIn('slow');
                        $('#id_btexecute').html("");
                        $('.loaderAjax2').html("")
                        $('#id_btexecute').html("<a href='index.html' style='margin-left:40px' class='btn btn-large btn-primary disabled bt_execute'>New</a><div class='loaderAjax2'></div>");
                        //Fechar todos os modals
                        $("#closeResultFinal").click(function(){
                            $('#myModalLogin').modal('hide');
                        });
                        
                    }
                });
                

                /**************************************************** *
                 * Botao de teste que ira mostrar os dados da mochila *
                 *                                                    *
                 **************************************************** */  
                $('#closeResultFinal2').click(function(){
                    var ZEROPOS = 0;
                    var salary = 2000;
                    var savings = 500;
                    var percent = savings / salary;
                    val = (percent == 0) ? ZEROPOS : ZEROPOS - (percent * ZEROPOS);
                    $("#graphbar").animate({ top: 0 + "px" }, 3000);
                    $(".titleRequestLastResult").html("");
                    $(".titleRequestLastResult").hide().append("").fadeIn('slow');
                    $(".titleRequestLastResult").append("Result of KnapSack").fadeIn('slow');
                    $("#p100").html("");
                    $("#p100").hide().append("").fadeIn('slow');
                    $("#p100").append("Soma = 500").fadeIn('slow');
                    $("#p50").html("");
                    $("#p50").hide().append("").fadeIn('slow');
                    $("#p50").append("Media = 250").fadeIn('slow');
                });
                
         
            });
        </script>

        <!--scrypts para a plot-->
        <!-- End example scripts -->

        <!-- Don't touch this! -->



        <script type="text/javascript" src="assets/css/syntaxhighlighter/scripts/shCore.min.js"></script>
        <script type="text/javascript" src="assets/css/syntaxhighlighter/scripts/shBrushJScript.min.js"></script>
        <script type="text/javascript" src="assets/css/syntaxhighlighter/scripts/shBrushXml.min.js"></script>

        <!-- End Don't touch this! -->

        <!-- Additional plugins go here -->


        <!-- End additional plugins -->
        <!--END scrypts para a plot-->

    </body>
</html>